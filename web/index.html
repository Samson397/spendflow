<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- Basic Meta Tags -->
    <title>SpendFlow - Smart Personal Finance & Budget Management App | Track Expenses, Manage Money</title>
    <meta name="description" content="Take control of your finances with SpendFlow - the smart personal finance app. Track expenses, manage budgets, monitor savings goals, and achieve financial freedom. Start your journey today!">
    <meta name="keywords" content="personal finance app, budget tracker, expense management, money management, financial planning, savings goals, budget planner, expense tracker, financial dashboard, money tracker">
    <meta name="author" content="SpendFlow">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://spedflowapp.web.app/">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-navbutton-color" content="#667eea">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="shortcut icon" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    
    <!-- Apple Touch Icons -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SpendFlow">
    <link rel="apple-touch-icon" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    
    <!-- iOS Splash Screens -->
    <link rel="apple-touch-startup-image" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    
    <!-- Android Icons -->
    <link rel="icon" sizes="192x192" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <link rel="icon" sizes="512x512" href="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-TileImage" content="/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png">
    <meta name="msapplication-config" content="none">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="SpendFlow - Smart Personal Finance & Budget Management App">
    <meta property="og:description" content="Take control of your finances with SpendFlow. Track expenses, manage budgets, monitor savings goals, and achieve financial freedom. Join thousands of users managing their money smarter.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://spedflowapp.web.app/">
    <meta property="og:image" content="https://spedflowapp.web.app/assets/assets/hero.8ee57dbdcfd159794617d4cde94fd912.jpg">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="500">
    <meta property="og:image:alt" content="SpendFlow Dashboard - Personal Finance Management">
    <meta property="og:site_name" content="SpendFlow">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SpendFlow - Smart Personal Finance & Budget Management App">
    <meta name="twitter:description" content="Take control of your finances with SpendFlow. Track expenses, manage budgets, and achieve financial freedom. Start your journey today!">
    <meta name="twitter:image" content="https://spedflowapp.web.app/assets/assets/hero.8ee57dbdcfd159794617d4cde94fd912.jpg">
    <meta name="twitter:image:alt" content="SpendFlow Dashboard - Personal Finance Management">
    <meta name="twitter:creator" content="@SpendFlowApp">
    <meta name="twitter:site" content="@SpendFlowApp">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "SpendFlow",
        "alternateName": "SpendFlow App",
        "description": "Smart personal finance and budget management app. Track expenses, manage budgets, monitor savings goals, and achieve financial freedom.",
        "url": "https://spedflowapp.web.app/",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web, iOS, Android",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Organization",
            "name": "SpendFlow",
            "url": "https://spedflowapp.web.app/"
        },
        "publisher": {
            "@type": "Organization",
            "name": "SpendFlow",
            "logo": {
                "@type": "ImageObject",
                "url": "https://spedflowapp.web.app/assets/assets/logo.d4d3b569ed3be311c26a39b741dd41df.png"
            }
        },
        "screenshot": "https://spedflowapp.web.app/assets/assets/hero.8ee57dbdcfd159794617d4cde94fd912.jpg",
        "featureList": [
            "Expense Tracking",
            "Budget Management", 
            "Savings Goals",
            "Financial Dashboard",
            "Transaction History",
            "Multi-Currency Support",
            "Real-time Notifications"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250"
        }
    }
    </script>
    
    <!-- PWA Install Prompt Styling -->
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        #root {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
        }
        /* Update Available Notification */
        .update-notification {
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 2000;
            font-weight: 600;
            cursor: pointer;
            animation: slideDown 0.3s ease-out;
        }
        @keyframes slideDown {
            from {
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }
        .update-notification:hover {
            background: #059669;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    
    <!-- Update Available Notification -->
    <div id="update-notification" class="update-notification">
        ðŸŽ‰ New version available! Tap to update
    </div>
    
    <script>
        // PWA Install functionality (without visible button)
        let deferredPrompt;
        
        // Listen for the PWA install prompt
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the browser's native install prompt
            e.preventDefault();
            deferredPrompt = e;
            console.log('PWA install prompt prevented');
        });
        
        // Log when app is installed
        window.addEventListener('appinstalled', () => {
            console.log('SpendFlow PWA was installed');
            deferredPrompt = null;
        });
        
        // Handle update notification click
        const updateNotification = document.getElementById('update-notification');
        updateNotification.addEventListener('click', () => {
            updateNotification.style.display = 'none';
            // Tell service worker to skip waiting and activate immediately
            if (navigator.serviceWorker.controller) {
                navigator.serviceWorker.controller.postMessage({ type: 'SKIP_WAITING' });
            }
        });
        
        // Register service worker for offline support and update detection
        if ('serviceWorker' in navigator) {
            let refreshing = false;
            const updateNotification = document.getElementById('update-notification');
            
            // Detect when service worker has updated and is waiting
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                if (refreshing) return;
                refreshing = true;
                window.location.reload();
            });
            
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered');
                        
                        // Check for updates every hour
                        setInterval(() => {
                            registration.update();
                        }, 60 * 60 * 1000);
                        
                        // Listen for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('Service worker update found');
                            
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available, show update notification
                                    console.log('New version available!');
                                    updateNotification.style.display = 'block';
                                    
                                    // Auto-hide after 10 seconds if not clicked
                                    setTimeout(() => {
                                        if (updateNotification.style.display === 'block') {
                                            updateNotification.style.display = 'none';
                                        }
                                    }, 10000);
                                }
                            });
                        });
                    })
                    .catch(err => console.log('ServiceWorker registration failed:', err));
            });
        }
    </script>
</body>
</html>
